(()=>{"use strict";const e=e=>{const t=document.createElement("div");return t.id="projectListItems",e.forEach((e=>{const n=document.createElement("a"),d=document.createElement("br");n.setAttribute("href","#"),n.innerHTML=e.name,t.appendChild(n),t.appendChild(d)})),t};class t{constructor(e){this.name=e,this.todoList=[]}}let n=[{name:"Test Project",todoList:[{title:"Test Todo",desc:"Test desc.",project:"Parent Project",priority:2,dueDate:"due date",createdDate:"created date"}]}];const d=document.getElementById("projectListContainer");let o=document.getElementById("projectListItems");const c=document.getElementById("addProjectButton"),s=document.getElementById("newProjectModal"),a=document.getElementById("closeProjectModal"),r=document.getElementById("newProjectForm"),i=document.getElementById("todoView");function l(){localStorage.setItem("projects",JSON.stringify(n))}document.addEventListener("DOMContentLoaded",(()=>{localStorage.getItem("projects")?n=JSON.parse(localStorage.getItem("projects")):l(),d.appendChild(e(n)),o=document.getElementById("projectListItems"),m(o)}));const m=e=>{[...e.childNodes].filter((e=>"a"==e.localName)).forEach((e=>{e.addEventListener("click",(()=>{const t=n.filter((t=>t.name===e.outerText))[0];i.innerHTML="",i.appendChild((e=>{const t=document.createElement("div");return t.id="todoItems",e.forEach((e=>{const n=document.createElement("div");n.classList.add("todoTile");const d=document.createElement("p");d.innerHTML=e.title,d.classList.add("todoTitle"),n.appendChild(d);const o=document.createElement("p");o.innerHTML=e.desc,o.classList.add("todoDesc"),n.appendChild(o);const c=document.createElement("p");c.innerHTML=e.project,c.classList.add("todoProject"),n.appendChild(c);const s=document.createElement("p");s.innerHTML=e.priority,s.classList.add("todoPriority"),n.appendChild(s);const a=document.createElement("p");a.innerHTML=e.dueDate,a.classList.add("todoDueDate"),n.appendChild(a);const r=document.createElement("p");r.innerHTML=e.createdDate,r.classList.add("todoCreatedDate"),n.appendChild(r),t.appendChild(n)})),t})(t.todoList))}))}))};c.addEventListener("click",(()=>{s.style.display="block"}));const p=()=>{s.style.display="none",r.reset()};a.addEventListener("click",(()=>{p()})),window.addEventListener("click",(e=>{e.target==s&&p()})),r.addEventListener("submit",(c=>{c.preventDefault();const s=r.elements;n.push((e=>{const n=e[0].value;return new t(n)})(s)),l(),p(),d.innerHTML="",d.appendChild(e(n)),o=document.getElementById("projectListItems"),m(o)}))})();